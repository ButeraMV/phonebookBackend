{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","put","Filter","_ref","onChangeEvent","react_default","a","createElement","onChange","PersonForm","submitEvent","nameChange","numberChange","onSubmit","type","Person","person","deletePersonButtonEvent","name","number","onClick","Persons","persons","filter","personsToShow","toLowerCase","includes","Fragment","map","components_Person","key","Notification","notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setNotification","useEffect","personService","initialPersons","updatePerson","personObject","personToUpdate","find","updatedPerson","objectSpread","returnedPerson","setTimeout","catch","error","clearForm","document","getElementById","reset","components_Notification","components_Filter","e","target","value","components_PersonForm","preventDefault","personExists","i","length","window","confirm","components_Persons","p","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.7ece9794.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default {getAll, create, deletePerson, update}","import React from 'react';\n\nconst Filter = ({ onChangeEvent }) => {\n  return (\n    <p>filter shown with <input onChange={onChangeEvent} /></p>\n  )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({ submitEvent, nameChange, numberChange }) => {\n  return (\n    <form onSubmit={submitEvent} id=\"phonebook-form\">\n      <div>name: <input onChange={nameChange} /></div>\n      <div>number: <input onChange={numberChange} /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Person = ({ person, deletePersonButtonEvent }) => {\n  return (\n    <p>{person.name} {person.number} <button onClick={deletePersonButtonEvent}>delete</button></p>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, deletePersonButtonEvent }) => {\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const rows = () =>\n    personsToShow.map(person => <Person key={person.id} person={person} deletePersonButtonEvent={() => deletePersonButtonEvent(person.id)}/>)\n    \n  return (\n    <>\n    {rows()}\n    </>\n  )\n}\n\nexport default Persons","import React from 'react';\nimport '../notification.css'\n\nconst Notification = ({ notification }) => {\n  if (notification.message === null) {\n    return null\n  }\n\n  return (\n    <div className={notification.type}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState({ message: null, type: null })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value)\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    let personExists = false\n\n    // Check to see if person exists and set personExists variable boolean value\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name.toLowerCase() === newName.toLowerCase()) {\n        personExists = true\n      }\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (!personExists) { // Person doesn't exist yet\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotification({message: `${returnedPerson.name} has been added to the Phonebook.`, type: 'success' })\n          setTimeout(() => {\n            setNotification({message: null, type: null})\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n          clearForm()\n        })\n        .catch(error => {\n          setNotification({ message: `${error.response.data.error}`, type: 'error' })\n          setTimeout(() => {\n            setNotification({ message: null, type: null })\n          }, 5000)\n        })\n    } else { // Person already exists\n      if (window.confirm(`${personObject.name} is already in the phonebook. Replace the old number with the new one?`)) {\n        updatePerson(personObject)\n      } else {\n        setNewName('')\n        setNewNumber('')\n        clearForm()\n      }\n    }\n  }\n\n  const updatePerson = (personObject) => {\n    const personToUpdate = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase())\n    const updatedPerson = {...personToUpdate, number: personObject.number}\n\n    personService\n      .update(personToUpdate.id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\n        setNotification({ message: `${updatedPerson.name} has been updated.`, type: 'success' })\n        setTimeout(() => {\n          setNotification({ message: null, type: null })\n        }, 5000)\n      })\n      .catch(error => {\n        setNotification(\n          { message: `${personToUpdate.name} was already removed from server`, type: 'error' }\n        )\n        setTimeout(() => {\n          setNotification({message: null, type: null})\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== personToUpdate.id))\n      })\n  }\n\n  const deletePersonButtonHandler = (id) => {\n    const person = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(person.id)\n        .then(setPersons(persons.filter(p => p.id !== id)))\n        .catch(error => {\n          setNotification(\n            { message: `${person.name} was already removed from server`, type: 'error' }\n          )\n          setTimeout(() => {\n            setNotification({ message: null, type: null })\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const clearForm = () => document.getElementById('phonebook-form').reset()\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter onChangeEvent={handleFilterChange} />\n      <h3>Add New Entry</h3>\n      <PersonForm \n        submitEvent={addPerson}\n        nameChange={handleNameChange}\n        numberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deletePersonButtonEvent={deletePersonButtonHandler} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}